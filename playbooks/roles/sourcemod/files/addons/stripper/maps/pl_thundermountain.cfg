// BANGERZ TF2 EF THUNDERMOUNTAIN STRIPPER
// EDITED FOR USE WITH UNCLETOPIA ONE THOUSAND UNCLES.

// if you have any questions or comments, speak to Dynamilk.

add:
{
	"classname"		"logic_relay"
	"OnSpawn"		"move_rope,Kill,,0,-1"
	"OnSpawn"		"env_lightglow,Kill,,0,-1"
	"OnSpawn"		"spotlight_end,Kill,,0,-1"
	"OnSpawn"		"func_nobuild,Kill,,0,-1"
	"OnSpawn"		"phys_ragdollmagnet,Kill,,0,-1"
}
// Reduce entities, some of these may already be on global filter config, but that is ok still.
// To know which entities to kill, just do sv_dump_edicts on the server console, and look for any high numbers on the left side.
// Usually it refers to entities that are not needed. Ask Dynamilk if it needs to be killed.

add:
{
	"classname"		"logic_timer"
	"RefireTime"	"1"
	"OnTimer"		"vgui_screen,Kill,,0,-1"
}
// this will kill dispenser screens, yes these are entities too.

add:
{
	"classname"		"logic_timer"
	"RefireTime"	"5"
	"OnTimer"		"instanced_scripted_scene,Kill,,0,-1"
}
// this is to help keep the server from crashing. alot of entities at times. THIS WILL KILL MOVING TAUNT ANIMATIONS! 

// MODIFY BLOCKS COME AFTER ADD BLOCKS!!

modify:
{
	match:
	{
		"targetname"	"cap_1_relay"
	}
	insert:
	{
		"OnTrigger"		"cart_path_1*,Kill,,0,-1"
		"OnTrigger"		"cart_path_20,Kill,,0,-1"
		"OnTrigger"		"cart_path_21,Kill,,0,-1"
		"OnTrigger"		"cart_path_22,Kill,,0,-1"
		"OnTrigger"		"cart_path_23,Kill,,0,-1"
		"OnTrigger"		"cart_path_24,Kill,,0,-1"
	}
}

// For each modify block, you first have to find a match. it can be either by hammerid (map decompile required), or by entity name.
// Entity name can either select ALL of X entities, or a specific name, such as what you see above.
// Afterwards, you can modify this entity(ies) to do whatever you want.
// In this modify block, we're killing all cart paths from 1 to 24. 1* defines any cart paths starting with 1. it's best to use this
// asterisk wildcard for easier modding.

// FROM BAILOPAN

// match Matches all entities that have the listed model and classname.
// replace Replaces the values of any properties that have the same key name.
// delete Deletes any properties matching both the key name and the value string.
// insert Specifies any additional key value pairs to insert.

// Although "match" is a required sub-block, replace, delete, and insert are all optional. You can specify the sub-blocks in any order, 
// although they are always processed the same way. Match first, then replace, then delete, and insert last.

{
	match:
	{
		"targetname"	"cap_2_relay"
	}
	insert:
	{
		"OnTrigger"		"cart_path_2*,Kill,,0,-1"
		"OnTrigger"		"cart_path_3*,Kill,,0,-1"
		"OnTrigger"		"cart_path_40,Kill,,0,-1"
		"OnTrigger"		"cart_path_41,Kill,,0,-1"
		"OnTrigger"		"cart_path_42,Kill,,0,-1"
		"OnTrigger"		"cart_path_43,Kill,,0,-1"
	}
}

{
	match:
	{
		"targetname"	"cap_b1_relay"
	}
	insert:
	{
		"OnTrigger"		"cart_path_4*,Kill,,0,-1"
		"OnTrigger"		"cart_path_5*,Kill,,0,-1"
		"OnTrigger"		"cart_path_6*,Kill,,0,-1"
		"OnTrigger"		"cart_path_70,Kill,,0,-1"
	}
}

{
	match:
	{
		"targetname"	"cap_b2_relay"
	}
	insert:
	{
		"OnTrigger"		"cart_path_7*,Kill,,0,-1"
		"OnTrigger"		"cart_path_8*,Kill,,0,-1"
	}
}